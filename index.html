<!DOCTYPE html>
<html>

<head>
  <title>grapp-iron-ajax web component</title>
  <script src='lib/webcomponentsjs/webcomponents-lite.min.js'></script>
  <link href="build/grapp-iron-ajax.html" rel="import">
</head>

<body>

  <h1>grapp-iron-ajax web component</h1>

  <h2>A Polymer core-ajax web component with some customizations</h2>

  <p>
    <a href="test/index.html">Click here to run the tests...</a>
  </p>

  <p>
    <a href="README.md">Click here to read the documentation...</a>
  </p>

  <p>
    <a href="CHANGELOG.md">Click here to read the changelog...</a>
  </p>

  <h2>Demo</h2>

  <template is="dom-bind">
    <grapp-iron-ajax auto url="/ajax-request"
                     last-response="{{response1}}"></grapp-iron-ajax>

    <grapp-iron-ajax auto url="/ajax-request-with-auth-error" on-grapp-authorization-error="error"
                     last-response="{{response2}}"></grapp-iron-ajax>

    <div>Without error: <span>[[response1.message]]</span></div>
    <div id="error">With auth error: <span>[[response2.error]]</span></div>
  </template>

  <script>
    var t = document.querySelector('template');
    t.error = function() {
      document.querySelector('#error').style.backgroundColor = 'red';
    };
  </script>

  <script src="//localhost:35729/livereload.js"></script>

</body>
